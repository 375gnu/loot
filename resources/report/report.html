<!DOCTYPE html>
<head>
    <meta charset="utf-8" />
    <title>LOOT</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/font-awesome.min.css" />
    <link rel="import" href="html/message-dialog.html">
    <link rel="import" href="html/plugin-li.html">
    <link rel="import" href="html/plugin-card.html">
    <link rel="import" href="html/editable-table.html">

    <script src="bower_components/platform/platform.js"></script>
    <link rel="import" href="bower_components/polymer/polymer.html">

    <link rel="import" href="bower_components/core-toolbar/core-toolbar.html">
    <link rel="import" href="bower_components/core-icon/core-icon.html">
    <link rel="import" href="bower_components/core-icons/core-icons.html">
    <link rel="import" href="bower_components/core-tooltip/core-tooltip.html">

    <link rel="import" href="bower_components/paper-menu-button/paper-menu-button.html">
    <link rel="import" href="bower_components/paper-item/paper-item.html">
    <link rel="import" href="bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
    <link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
    <link rel="import" href="bower_components/paper-button/paper-button.html">

    <script src="js/require.js"></script>
</head>
<!-- oncontextmenu attribute disables the right-click menu. -->
<body oncontextmenu="return false" unresolved fullbleed vertical layout >
    <core-toolbar id="mainToolbar">
        <paper-menu-button icon="menu">
            <paper-item id="redatePluginsButton" icon="today" label="Redate Plugins"></paper-item>
            <paper-item id="openLogButton" icon="folder" label="Open Debug Log Location"></paper-item>
            <paper-item id="wipeUserlistButton" icon="delete" label="Clear All User Metadata"></paper-item>
            <paper-item id="copyContentButton" icon="content-copy" label="Copy Content As Text"></paper-item>
            <paper-item id="refreshContentButton" icon="cached" label="Refresh Content"></paper-item>
            <paper-item id="settingsButton" icon="settings" label="Settings"></paper-item>
            <paper-item id="helpButton" icon="book" label="View Documentation"></paper-item>
            <paper-item id="aboutButton" icon="help" label="About"></paper-item>
        </paper-menu-button>
        <paper-dropdown-menu id="gameMenu">
            <!-- Generated game <li> elements go here. -->
        </paper-dropdown-menu>
        <span flex></span>
        <core-tooltip label="Update Masterlist">
            <paper-icon-button id="updateMasterlistButton" icon="file-download"></paper-icon-button>
        </core-tooltip>
        <core-tooltip label="Sort Plugins">
        <paper-icon-button id="sortButton" icon="swap-vert"></paper-icon-button>
        </core-tooltip>
        <paper-button id="applySortButton" class="hidden">Apply</paper-button>
        <paper-button id="cancelSortButton" class="hidden">Cancel</paper-button>
    </core-toolbar>
    <div id="container">
        <nav>
            <ol>
                <li><a href="#summary">Summary</a></li>
                <li><a href="#generalMessages">General Messages</a></li>
                <li>
                    <ol id="pluginsNav">
                        <!-- Generated <li> elements go here, containing # links to each plugin's section in the list. -->
                    </ol>
                    <ol id="filters" class="hidden" data-replace="pluginsNav">
                        <input type="checkbox" id="hideVersionNumbers" data-class="version" />
                        <label for="hideVersionNumbers">Hide version numbers</label><br>
                        <input type="checkbox" id="hideCRCs" data-class="crc" />
                        <label for="hideCRCs">Hide CRCs</label><br>
                        <input type="checkbox" id="hideBashTags" data-class="tag" />
                        <label for="hideBashTags">Hide Bash Tags</label><br>
                        <input type="checkbox" id="hideNotes" />
                        <label for="hideNotes">Hide notes</label><br>
                        <input type="checkbox" id="hideDoNotCleanMessages" />
                        <label for="hideDoNotCleanMessages">Hide 'Do not clean' messages</label><br>
                        <input type="checkbox" id="hideInactivePluginMessages" />
                        <label for="hideInactivePluginMessages">Hide inactive plugin messages</label><br>
                        <input type="checkbox" id="hideAllPluginMessages" />
                        <label for="hideAllPluginMessages">Hide all plugin messages</label><br>
                        <input type="checkbox" id="hideMessagelessPlugins" />
                        <label for="hideMessagelessPlugins">Hide messageless plugins</label>
                        <div>
                            <span id="hiddenPluginsTxt">Hidden plugins</span>: <span id="hiddenPluginNo">0</span> / <span id="filterTotalPluginNo">0</span>
                        </div>
                        <div>
                            <span id="hiddenMessagesTxt">Hidden messages</span>: <span id="hiddenMessageNo">0</span> / <span id="filterTotalMessageNo">0</span>
                        </div>
                    </ol>
                </li>
                <li id="filtersToggle"><span class="fa fa-fw fa-filter"></span>Filters
                </li>
                <li><input id="searchBox" type="search" placeholder="Search content..." title="Press Enter when searching to select the next match.">
                </li>
            </ol>
        </nav>
        <main>
            <section id="summary">
                <h1>Summary</h1>
                <table>
                    <tbody>
                        <tr>
                            <td>Masterlist Revision</td>
                            <td id="masterlistRevision">N/A</td>
                        </tr>
                        <tr>
                            <td>Masterlist Date</td>
                            <td id="masterlistDate">N/A</td>
                        </tr>
                    </tbody>
                </table>
                <table>
                    <tbody>
                        <tr>
                            <td>Warnings</td>
                            <td id="totalWarningNo">0</td>
                        </tr>
                        <tr>
                            <td>Errors</td>
                            <td id="totalErrorNo">0</td>
                        </tr>
                        <tr>
                            <td>Total Messages</td>
                            <td id="totalMessageNo">0</td>
                        </tr>
                    </tbody>
                </table>
                <table>
                    <tbody>
                        <tr>
                            <td>Active Plugins</td>
                            <td id="activePluginNo">0</td>
                        </tr>
                        <tr>
                            <td>Dirty Plugins</td>
                            <td id="dirtyPluginNo">0</td>
                        </tr>
                        <tr>
                            <td>Total Plugins</td>
                            <td id="totalPluginNo">0</td>
                        </tr>
                    </tbody>
                </table>
            </section>
            <section id="generalMessages">
                <h1>General Messages</h1>
                <ul>
                    <!-- Generated message <li> elements go here. -->
                </ul>
            </section>
            <!-- Generated plugin #pluginSection elements go here. -->
        </main>
    </div>

    <dialog id="about">
        <h1>LOOT <span id="LOOTVersion"></span></h1>
        <p><small>Build <span id="LOOTBuild"></span></small></p>
        <p>Copyright &copy; 2012&ndash;2014 WrinklyNinja</p>
        <p>Load order optimisation for Oblivion, Skyrim, Fallout 3 and Fallout: New Vegas.</p>
        <p><a href="http://loot.github.io">http://loot.github.io</a></p>
        <blockquote>
LOOT is free software: you can redistribute it and/or modify it
under the terms of the GNU General Public License as published
by the Free Software Foundation, either version 3 of the
License, or any later version.

LOOT is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with LOOT. If not, see &lt;http://www.gnu.org/licenses/&gt;.
        </blockquote>
        <button>OK</button>
    </dialog>

    <dialog id="settings">
        <h1>Settings</h1>
        <label for="defaultGameSelect">Default Game</label>
        <select id="defaultGameSelect">
            <option value="auto">Autodetect</option>
            <!-- Game <option> elements go here. -->
        </select><br>
        <label for="languageSelect">Language</label>
        <select id="languageSelect">
            <!-- Language <option> elements go here. -->
        </select><br>
        <p><input type="checkbox" id="enableDebugLogging"><label for="enableDebugLogging" title="The output is logged to the LOOTDebugLog.txt file.">Enable debug logging</label></p>
        <p><input type="checkbox" id="updateMasterlist"><label for="updateMasterlist">Update masterlist before sorting</label></p>
        <p><input type="checkbox" id="autoRefresh"><label for="autoRefresh">Automatically refresh content on window refocus</label></p>
        <table is="editable-table" id="gameTable" data-template="gameRow">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Base Game</th>
                    <th>LOOT Folder</th>
                    <th>Master File</th>
                    <th>Masterlist Repository URL</th>
                    <th>Masterlist Repository Branch</th>
                    <th>Install Path</th>
                    <th>Install Path Registry Key</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <!-- Game rows go here. -->
                <tr>
                    <td colspan="4">Add new row...</td>
                    <td></td>
                </tr>
            </tbody>
        </table>
        <p id="languageRestartTxt">Language changes will be applied after LOOT is restarted.</p>
        <hr>
        <div class="buttons">
            <button class="accept">Apply</button>
            <button class="cancel">Cancel</button>
        </div>
    </dialog>

    <div id="hoverText" class="hidden"></div>
    <dialog id="progressDialog">
        <!-- CEF doesn't seem to want to play any animation set through CSS
             for <progress>'s internal value pseudo-element, so use this
             instead. -->
        <div class="progress bar">
            <div class="value"></div>
        </div>
        <h1>Calculating the last digit of &pi;...</h1>
    </dialog>

    <dialog id="firstRun">
        <h1>First-Time Tips</h1>
        <p>This appears to be the first time you have run LOOT v<span id="firstTimeLootVersion"></span>. Here are some tips to help you get started with the interface.</p>
        <ul>
            <li>As well as messages, LOOT displays plugin <span class="version">version numbers</span>, <span class="crc">CRCs</span> and Bash Tag suggestions for <span class="tag add">addition</span> and <span class="tag remove">removal</span>.</li>
            <li>CRCs and dummy plugin icons <span class="fa fa-eye-slash"></span> are only displayed after plugins have been loaded, either by conflict filtering, or by sorting.</li>
            <li>Each plugin has a menu that can be used to access extra features, including the plugin's metadata editor and conflict filter. Click the plugin's <span class="fa fa-ellipsis-v fa-lg"></span> icon to reveal it.</li>
            <li>Multiple metadata editors can be opened at once, and the menu bar is disabled while any editors are open.</li>
            <li>Plugins can be drag and dropped from the sidebar into editors' <q>load after</q>, <q>requirements</q> and <q>incompatibility</q> tables.</li>
            <li>Many interface elements have tooltips. If you don't know what something is, try hovering your mouse over it to find out.</li>
        </ul>
        <p>See LOOT's documentation, accessed through the <q>Help</q> menu, for further details.</p>
        <button class="accept">OK</button>
    </dialog>
    <script src="js/script.js"></script>
</body>