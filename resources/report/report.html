<!DOCTYPE html>
<head>
    <meta charset="utf-8" />
    <title>LOOT</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/overrides.css" />

    <link rel="import" href="bower_components/polymer/polymer.html">

    <link rel="import" href="html/editable-table.html">
    <link rel="import" href="html/loot-dialog.html">
    <link rel="import" href="html/loot-dropdown-menu.html">
    <link rel="import" href="html/loot-message-dialog.html">
    <link rel="import" href="html/loot-plugin-item.html">
    <link rel="import" href="html/loot-plugin-card.html">

    <link rel="import" href="bower_components/core-toolbar/core-toolbar.html">
    <link rel="import" href="bower_components/core-icon/core-icon.html">
    <link rel="import" href="bower_components/core-icons/core-icons.html">
    <link rel="import" href="bower_components/core-tooltip/core-tooltip.html">
    <link rel="import" href="bower_components/core-drawer-panel/core-drawer-panel.html">
    <link rel="import" href="bower_components/core-animated-pages/core-animated-pages.html">
    <link rel="import" href="bower_components/core-animated-pages/transitions/slide-from-right.html">
    <link rel="import" href="bower_components/core-list/core-list.html">

    <link rel="import" href="bower_components/paper-menu-button/paper-menu-button.html">
    <link rel="import" href="bower_components/paper-item/paper-item.html">
    <link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
    <link rel="import" href="bower_components/paper-button/paper-button.html">
    <link rel="import" href="bower_components/paper-input/paper-input.html">
    <link rel="import" href="bower_components/paper-tabs/paper-tabs.html">
    <link rel="import" href="bower_components/paper-checkbox/paper-checkbox.html">
    <link rel="import" href="bower_components/paper-dialog/paper-dialog.html">
    <link rel="import" href="bower_components/paper-dialog/paper-dialog-transition.html">
    <link rel="import" href="bower_components/paper-dropdown/paper-dropdown.html">
    <link rel="import" href="bower_components/paper-progress/paper-progress.html">
    <link rel="import" href="bower_components/paper-toast/paper-toast.html">

    <script src="bower_components/requirejs/require.js"></script>
</head>
<!-- oncontextmenu attribute disables the right-click menu. -->
<body oncontextmenu="return false" unresolved fullbleed vertical layout >
    <core-toolbar id="mainToolbar">
        <paper-menu-button>
            <paper-icon-button icon="menu"></paper-icon-button>
            <paper-dropdown class="dropdown">
                <div>
                    <paper-item id="redatePluginsButton">
                        <core-icon icon="today"></core-icon>
                        Redate Plugins
                    </paper-item>
                    <paper-item id="wipeUserlistButton">
                        <core-icon icon="delete"></core-icon>
                        Clear All User Metadata
                    </paper-item>
                    <paper-item id="copyContentButton">
                        <core-icon icon="content-copy"></core-icon>
                        Copy Content
                    </paper-item>
                    <paper-item id="refreshContentButton">
                        <core-icon icon="cached"></core-icon>
                        Refresh Content
                    </paper-item>
                    <paper-item separator></paper-item>
                    <paper-item id="settingsButton">
                        <core-icon icon="settings"></core-icon>
                        Settings
                    </paper-item>
                    <paper-item separator></paper-item>
                    <paper-item id="helpButton">
                        <core-icon icon="book"></core-icon>
                        View Documentation
                    </paper-item>
                    <paper-item id="openLogButton">
                        <core-icon icon="folder"></core-icon>
                        Open Debug Log Location
                    </paper-item>
                    <paper-item id="aboutButton">
                        <core-icon icon="help"></core-icon>
                        About
                    </paper-item>
                    <paper-item separator></paper-item>
                    <paper-item id="quitButton">
                        <core-icon icon="close"></core-icon>
                        Quit
                    </paper-item>
                </div>
            </paper-dropdown>
        </paper-menu-button>
        <paper-icon-button icon="drawer" id="drawerToggle"></paper-icon-button>
        <paper-tabs id="sidebarTabs" selected="cardsNav" valueattr="data-id">
            <paper-tab data-id="cardsNav">Plugins</paper-tab>
            <paper-tab data-id="filters">Filters</paper-tab>
        </paper-tabs>
        <loot-dropdown-menu id="gameMenu">
            <!-- Generated game <li> elements go here. -->
        </loot-dropdown-menu>
        <span flex></span>
        <core-tooltip label="Update Masterlist">
            <paper-icon-button id="updateMasterlistButton" icon="file-download"></paper-icon-button>
        </core-tooltip>
        <core-tooltip label="Sort Plugins">
        <paper-icon-button id="sortButton" icon="sort"></paper-icon-button>
        </core-tooltip>
        <paper-button id="applySortButton" class="hidden">Apply</paper-button>
        <paper-button id="cancelSortButton" class="hidden">Cancel</paper-button>
    </core-toolbar>
    <core-drawer-panel id="container" drawerWidth="33%">
        <div drawer vertical layout>
            <core-animated-pages selected="cardsNav" valueattr="id" transitions="" flex>
                <div id="cardsNav" class="tab-content" layout vertical>
                    <paper-item>
                        <a href="#summary"></a>Summary
                    </paper-item>
                    <paper-item>
                        <a href="#generalMessages"></a>General Messages
                    </paper-item>
                    <core-list flex>
                        <template>
                            <loot-plugin-item data-bsa?="{{model.loadsBSA}}" data-edits?="{{model.userlist != undefined}}" data-index="{{index}}">
                                {{model.name}}
                            </loot-plugin-item>
                        </template>
                        <!-- Generated <loot-plugin-item> elements go here. -->
                    </core-list>
                </div>
                <div id="filters" class="tab-content" flex>
                    <paper-checkbox id="hideVersionNumbers" data-class="version" label="Hide version numbers"></paper-checkbox>
                    <paper-checkbox id="hideCRCs" data-class="crc" label="Hide CRCs"></paper-checkbox>
                    <paper-checkbox id="hideBashTags" data-class="tag" label="Hide Bash Tags"></paper-checkbox>
                    <paper-checkbox id="hideNotes" label="Hide notes"></paper-checkbox>
                    <paper-checkbox id="hideDoNotCleanMessages" label="Hide 'Do not clean' messages"></paper-checkbox>
                    <paper-checkbox id="hideAllPluginMessages" label="Hide all plugin messages"></paper-checkbox>
                    <paper-checkbox id="hideInactivePlugins" label="Hide inactive plugins"></paper-checkbox>
                    <paper-checkbox id="hideMessagelessPlugins" label="Hide messageless plugins"></paper-checkbox>
                    <div center horizontal layout>
                        <div id="hiddenPluginsTxt" flex>Hidden plugins:</div>
                        <div><span id="hiddenPluginNo">0</span> / <span id="filterTotalPluginNo">0</span></div>
                    </div>
                    <div center horizontal layout>
                        <div id="hiddenMessagesTxt" flex>Hidden messages:</div>
                        <div><span id="hiddenMessageNo">0</span> / <span id="filterTotalMessageNo">0</span></div>
                    </div>
                </div>
            </core-animated-pages>
            <core-tooltip label="Press Enter or click outside the input to set the filter." position="top">
                <paper-input id="searchBox" label="Filter content..."></paper-input>
            </core-tooltip>
        </div>
        <div main id="main">
            <section id="summary">
                <h1>Summary</h1>
                <table>
                    <tbody>
                        <tr>
                            <td>Masterlist Revision</td>
                            <td id="masterlistRevision">N/A</td>
                        </tr>
                        <tr>
                            <td>Masterlist Date</td>
                            <td id="masterlistDate">N/A</td>
                        </tr>
                    </tbody>
                </table>
                <table>
                    <tbody>
                        <tr>
                            <td>Warnings</td>
                            <td id="totalWarningNo">0</td>
                        </tr>
                        <tr>
                            <td>Errors</td>
                            <td id="totalErrorNo">0</td>
                        </tr>
                        <tr>
                            <td>Total Messages</td>
                            <td id="totalMessageNo">0</td>
                        </tr>
                    </tbody>
                </table>
                <table>
                    <tbody>
                        <tr>
                            <td>Active Plugins</td>
                            <td id="activePluginNo">0</td>
                        </tr>
                        <tr>
                            <td>Dirty Plugins</td>
                            <td id="dirtyPluginNo">0</td>
                        </tr>
                        <tr>
                            <td>Total Plugins</td>
                            <td id="totalPluginNo">0</td>
                        </tr>
                    </tbody>
                </table>
            </section>
            <section id="generalMessages">
                <h1>General Messages</h1>
                <ul>
                    <!-- Generated message <li> elements go here. -->
                </ul>
            </section>
            <core-list>
                <template>
                    <loot-plugin-card data="{{model}}" id="{{model.id}}" data-active="{{model.isActive}}" data-dummy="{{model.isDummy}}" data-bsa="{{model.loadsBSA}}" data-edits="{{model.userlist != undefined}}">
                        <h1>{{model.name}}</h1>
                        <span class="version">{{model.version}}</span>
                        <span class="crc">{{model.computed.crc}}</span>
                        <span class="tag add">{{model.computed.tags.added}}</span>
                        <span class="tag remove">{{model.computed.tags.removed}}</span>
                        <ul></ul>
                    </loot-plugin-card>
                </template>
                <!-- Generated <loot-plugin-card> elements go here. -->
            </core-list>
        </div>
    </core-drawer-panel>
    <paper-toast id="toast"></paper-toast>
    <loot-dialog id="progressDialog">
        <paper-progress indeterminate></paper-progress>
        <p>Calculating the last digit of &pi;...</p>
    </loot-dialog>

    <loot-dialog id="about" heading="About LOOT">
        <p>Version <span id="LOOTVersion"></span> (build <span id="LOOTBuild"></span>)</p>
        <p>Load order optimisation for Oblivion, Skyrim, Fallout 3 and Fallout: New Vegas.</p>
        <p><a href="http://loot.github.io">http://loot.github.io</a></p>
        <p>Copyright &copy; 2012&ndash;2014 WrinklyNinja</p>
        <blockquote>
LOOT is free software: you can redistribute it and/or modify it
under the terms of the GNU General Public License as published
by the Free Software Foundation, either version 3 of the
License, or any later version.

LOOT is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with LOOT. If not, see &lt;http://www.gnu.org/licenses/&gt;.
        </blockquote>
        <paper-button affirmative autofocus>OK</paper-button>
    </loot-dialog>

    <loot-dialog id="settingsDialog" heading="Settings" closeSelector="">
        <div center horizontal layout>
            <div>Default Game</div>
            <loot-dropdown-menu id="defaultGameSelect">
                <paper-item value="auto">Autodetect</paper-item>
                <!-- Game <option> elements go here. -->
            </loot-dropdown-menu>
        </div>
        <div center horizontal layout>
            <div>Language</div>
            <loot-dropdown-menu id="languageSelect">
                <!-- Language <option> elements go here. -->
            </loot-dropdown-menu>
        </div>
        <core-tooltip label="The output is logged to the LOOTDebugLog.txt file." center horizontal layout>
            <paper-checkbox id="enableDebugLogging" label="Enable debug logging"></paper-checkbox>
        </core-tooltip>
        <paper-checkbox id="updateMasterlist" label="Update masterlist before sorting"></paper-checkbox>
        <table is="editable-table" id="gameTable" data-template="gameRow">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Base Game</th>
                    <th>LOOT Folder</th>
                    <th>Master File</th>
                    <th>Masterlist Repository URL</th>
                    <th>Masterlist Repository Branch</th>
                    <th>Install Path</th>
                    <th>Install Path Registry Key</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <!-- Game rows go here. -->
                <tr>
                    <td colspan="8">Add new row...</td>
                    <td></td>
                </tr>
            </tbody>
        </table>
        <p id="languageRestartTxt">Language changes will be applied after LOOT is restarted.</p>
        <paper-button class="accept" affirmative autofocus>Apply</paper-button>
        <paper-button class="cancel" affirmative>Cancel</paper-button>
    </loot-dialog>

    <loot-dialog id="firstRun" heading="First-Time Tips">
        <p>This appears to be the first time you have run LOOT v<span id="firstTimeLootVersion"></span>. Here are some tips to help you get started with the interface.</p>
        <ul>
            <li>As well as messages, LOOT displays plugin <span class="version">version numbers</span>, <span class="crc">CRCs</span> and Bash Tag suggestions for <span class="tag add">addition</span> and <span class="tag remove">removal</span>.</li>
            <li>CRCs and dummy plugin icons <core-icon icon="visibility-off"></core-icon> are only displayed after plugins have been loaded, either by conflict filtering, or by sorting.</li>
            <li>Each plugin has a menu that can be used to access extra features, including the plugin's metadata editor and conflict filter. Click the plugin's <core-icon icon="more-vert"></core-icon> icon to reveal it.</li>
            <li>Multiple metadata editors can be opened at once, and many options in the header bar are disabled while any editors are open.</li>
            <li>Plugins can be drag and dropped from the sidebar into editors' <q>load after</q>, <q>requirements</q> and <q>incompatibility</q> tables.</li>
            <li>Many interface elements have tooltips. If you don't know what something is, try hovering your mouse over it to find out.</li>
        </ul>
        <p>See LOOT's documentation, accessed through the main menu, for further details.</p>
        <paper-button affirmative autofocus>OK</paper-button>
    </loot-dialog>
    <script src="js/script.js"></script>
</body>