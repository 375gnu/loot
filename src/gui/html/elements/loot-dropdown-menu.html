<!--
<loot-dropdown-menu> is an extension of <paper-dropdown-menu> that gives
it a <select>-like API. This means:

1. `<paper-item>.value` attributes are used to reference items.
2. `<loot-dropdown-menu>.value` references the currently selected item.

-->

<link rel="import" href="../../../../bower_components/polymer/polymer.html">

<link rel="import" href="../../../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../../../bower_components/paper-listbox/paper-listbox.html">

<dom-module id="loot-dropdown-menu">
  <template>
    <style>
      paper-dropdown-menu {
        margin-left: 4px;
        margin-right: 4px;

        --paper-input-container: {
          transition: opacity 0.6s;
        };
        --paper-dropdown-menu-icon: {
          color: var(--loot-secondary-text-color);
        };
      }
      :host(.dark) paper-dropdown-menu {
        --paper-input-container-underline: {
          background-color: var(--loot-dark-theme-divider-color);
        };
        --paper-input-container-input-color: white;
        --paper-dropdown-menu-input: {
          color: var(--loot-dark-theme-primary-text-color);
        };
        --paper-dropdown-menu-icon: {
          color: var(--loot-dark-theme-secondary-text-color);
        };
      }
    </style>
    <paper-dropdown-menu disabled$="[[disabled]]" no-label-float>
      <paper-listbox class="dropdown-content" attr-for-selected="value" selected="{{value}}">
        <content></content>
      </paper-listbox>
    </paper-dropdown-menu>
  </template>
  <script>
    Polymer({
      is: 'loot-dropdown-menu',
      properties: {
        disabled: {
          type: Boolean,
          value: false,
          reflectToAttribute: true,
        },
        value: {
          type: String,
          notify: true,
          reflectToAttribute: true,
        },
      },
    });
  </script>
</dom-module>
